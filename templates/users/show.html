{% extends 'base.html' %}

{% block title %} {{ user.full_name }} {% endblock %}

{% block content %}

    <div class="row">

        <div class="col-sm-10 col-12">

            <h2 class="my-4">Feedback</h2>

            <!-- Display all feedback -->
            <ul>
                {% for feedback in user.feedback %}

                    <li>
                        {{ feedback.title }}
                        <p class="mb-2">
                            <small>{{ feedback.content }}</small>
                        </p>
                    </li>

                    <form class="mb-3">
                        {{ form.hidden_tag() }}
                        <button class="btn btn-primary"
                                formmethod="GET"
                                formaction="/feedback/{{ feedback.id }}/update">
                            Edit
                        </button>

                        <button class="btn btn-danger"
                                formmethod="POST"
                                formaction="/feedback/{{ feedback.id }}/delete">
                            Delete
                        </button>
                    </form>
                
                {% endfor %}
            </ul>

            <!-- Link for Add Feedback -->
            <p class="mt-4">
                <a  href="/users/{{ user.username }}/feedback/add" 
                    class="btn btn-primary">
                        Add Feedback
                </a>
            </p>

            <!-- Delete User button -->
            <form>
                <button class="btn btn-danger btn-sm"
                        formmethod="POST"
                        formaction="/users/{{ user.username }}/delete">
                    Delete User
                </button>    
            </form>

        </div>
    </div>

{% endblock %} 